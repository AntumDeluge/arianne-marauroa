Author : Miguel Angel Blanch Lardin
Created: 2003/09/11
status : planning
Title  : Message Types
Info   : Description of the different types of messages, its structure and its use.
Keyword: Message, Login, Logout, Character, chooseCharacter, ACK, NACK, Action, Map, MapHash, Perception

%% BEGIN %%

To communicate client and server marauroa uses a stream of UDP packets.
Message system belongs to marauroa.net package, so refer to code.

The main idea is that messages has side, so we have Client to Server aka C2S and Server to Client aka S2C messages. Most of the messages have two versions: C2S and S2C.

The idea of communication that we need to model is:
Client				Server
------				------
--onConnect:
Send Login			If Login is correct 
 				  Send LoginACK
				else
				  Send LoginNACK
				  Finish

				Send CharacterList

Send ChooseCharacter
				Send ChooseCharacterACK

--onTimer:
Send Map Hash
					
				Send Perception
				Send Map

--onEvent:
Send Action
				Send ActionACK

--onRemoteEvent:
				Send Action

--onExit:
Send Logout
			
					


%% END %%